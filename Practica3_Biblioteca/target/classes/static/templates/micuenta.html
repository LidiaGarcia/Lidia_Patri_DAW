<div id="session" ng-controller="LoginController as vm">
	<div>	
		<div ng-hide="vm.islog[0]"> 
			<a href="#/loginregistro">Registrarse</a>
			<a href="#/loginregistro">Iniciar sesión</a>
		</div>
		<div ng-hide="!vm.islog[0]">
			<a href="#/micuenta">{{vm.persona.nombre}}</a>
			<form ng-submit="vm.logout()">
		 	<input type='submit' name='Cerrarsesion' value="Cerrar sesión" />
			</form>
		</div>
	</div>
</div>

<!--Menú izquierdo-->
<div id="leftMenu" layout="column" style="height:500px;"  ng-controller="MicuentaController as vm">
  <div  ng-hide="!vm.islog[0]">
  <section layout="row" flex>
    <md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">
      <md-toolbar class="md-theme-indigo">
        <h1 class="md-toolbar-tools">{{vm.persona.nombre}}</h1>
      	<h1 class="md-toolbar-tools">{{vm.hour[0]}}</h1>
      	
      	<button type="button" ng-click="vm.print()">Print datos</button>

      	<h1 class="md-toolbar-tools">{{vm.dayweek.dayWeek}}</h1>
      </md-toolbar>
      <md-content ng-hide="vm.islog[1]"layout-padding >
       <a>Reservar sala</a></br>
       <a>Reservar portatil</a></br>
       <a href= "#/inscripcioncurso">Inscribirse a curso</a></br>
       <a>Mis salas reservadas</a> </br>
       <a>Mis portátiles reservados</a> </br>
       <a href="#/miscursos">Cursos inscritos</a> </br>
       <a href="#/personalData">Datos personales</a>
      </md-content>
      <md-content ng-hide="!vm.islog[1]" layout-padding >
       <a>Control Salas</a> </br>
       <a>Control Portátiles</a> </br>
       <a href="#/adminsalas">Administrar Salas</a> </br>
       <a href="#/adminportatiles">Administrar Portátiles</a> </br>
       <a href="#/admincursos">Administrar Cursos</a> </br>
       <a href="#/personalData">Datos personales</a> 
      </md-content>
    </md-sidenav>
  </section>
  </div>
</div>

<div id="adminIndex" ng-controller="SalasController as vm">

<button type="button" ng-click="vm.reload()">Reload</button>

	<button type="button" ng-click="vm.isReser()">Ver reservas</button>	

<div id="listadoSalas" ng-repeat="sala in vm.salas">	
	<p>Sala {{sala.id}}</p>
	<div ng-show="vm.verSala">	
		<div ng-repeat="hour in vm.hours">			
			<div ng-if="vm.checkTotal[$parent.$index][$index]">				
				<div id="salaReser"><p>{{hour}}:00</p>	
					<span ng-if="(vm.islog[1])">
						<p>{{vm.reservaTotal[$parent.$parent.$parent.$index][$index].nombre}} 
						{{vm.reservaTotal[$parent.$parent.$parent.$index][$index].apellidos}}</p>
						<button type="button" ng-click="vm.confirmar($parent.$parent.$parent.$index,vm.reservaTotal[$parent.$parent.$parent.$index][$index],hour)">Confirmar</button>							
					</span>
					<span ng-if="!vm.islog[1]">
						<p>Reservada</p>
					</span>
				</div>			
			</div>
			<div ng-if="!vm.checkTotal[$parent.$index][$index]">
				<div id="salaNotReser"><p>{{hour}}:00</p><p>Vacía</p></div>
			</div>		
		</div>
	</div>	
</div>



